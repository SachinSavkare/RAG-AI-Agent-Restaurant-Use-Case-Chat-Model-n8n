{
  "name": "10.2 10. RAG AI Agent (Multiple Files) : Chat Model",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -320,
        -48
      ],
      "id": "59d09036-1ea7-4cb2-b6f7-fbc55d3ca9cf",
      "name": "When chat message received",
      "webhookId": "c1826750-5e00-4311-8c98-8c9589373c61"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are a restaurant assistant. Your job is to answer questions from \nthe staff about the menu, feedback, policies, hours of operation, \netc. All of this information can be found in the vector store tool, \nso call that tool each time you are asked a question to ensure you \nare providing the staff with accurate information. Please be \nfriendly and throw in some jokes and emojis.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -112,
        -48
      ],
      "id": "895cbefe-2d48-459e-ada4-2bbcca0482b7",
      "name": "Restaurant AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -256,
        128
      ],
      "id": "1ceba0ee-8e77-45f1-8bca-d1adc41b5a93",
      "name": "gpt-4.1-mini",
      "credentials": {
        "openAiApi": {
          "id": "2ll7nWhcZokpqeYF",
          "name": "OpenAi account AIS"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -96,
        128
      ],
      "id": "175a41be-183b-49b2-afd8-cc59da5d6e1a",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "description": "Call this tool to access the database to answer the user's questions"
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1.1,
      "position": [
        48,
        144
      ],
      "id": "4c42e1c4-2c5b-4e5c-b0b0-7766049bbef8",
      "name": "Answer questions with a vector store"
    },
    {
      "parameters": {
        "pineconeIndex": {
          "__rl": true,
          "value": "n8n-sample",
          "mode": "list",
          "cachedResultName": "n8n-sample"
        },
        "options": {
          "pineconeNamespace": "Restaurant"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        -32,
        304
      ],
      "id": "7d3ec3f0-006d-486b-8569-31a9dd924aa0",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "2iuyzAXGASVualea",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -160,
        400
      ],
      "id": "bc1f223c-946e-48e4-89cc-7f751dba94ea",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "nhAOL9sKMfyG8Vrt",
          "name": "Google Gemini(PaLM) API account AIS"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        272,
        272
      ],
      "id": "14cc5883-df11-452f-9002-7aa8464bb11c",
      "name": "gpt-4.1-mini1",
      "credentials": {
        "openAiApi": {
          "id": "2ll7nWhcZokpqeYF",
          "name": "OpenAi account AIS"
        }
      }
    },
    {
      "parameters": {
        "content": "## Input Query\n\n1. What's the menu?\n2. What are the customers thinking about us ?\n3. Who are our suppliers ?\n",
        "width": 336
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -752,
        -48
      ],
      "id": "11c6ba96-bba6-4fbe-a168-cec3364ec62c",
      "name": "Sticky Note"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Restaurant AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "gpt-4.1-mini": {
      "ai_languageModel": [
        [
          {
            "node": "Restaurant AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Restaurant AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Answer questions with a vector store": {
      "ai_tool": [
        [
          {
            "node": "Restaurant AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "gpt-4.1-mini1": {
      "ai_languageModel": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3f511a58-e1ea-415b-8691-6424ed12c000",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "91f42292365f2736b62ea45ddfd531a5d9a185f2bc4a363bfb1ae1188ac76851"
  },
  "id": "kmt8BEX8KQQdUTqa",
  "tags": []
}